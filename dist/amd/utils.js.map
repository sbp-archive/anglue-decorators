{"version":3,"sources":["src/utils.js"],"names":[],"mappings":"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","file":"src/utils.js","sourcesContent":["export class DecoratorUtils {\n    static addInjections(cls, newInjections) {\n        var injectionsProperty = Object.getOwnPropertyDescriptor(cls, 'injections');\n        var oldInjectionsGetter = injectionsProperty.get;\n\n        Object.defineProperty(cls, 'injections', {\n            get: () => {\n                var injections = oldInjectionsGetter();\n                for (let binding of Object.keys(newInjections)) {\n                    if (injections[binding] === undefined) {\n                        injections[binding] = newInjections[binding];\n                    }\n                }\n                return injections;\n            }\n        });\n    }\n\n    static intercept(obj, decorator, methodName) {\n        Object.defineProperty(obj, methodName, {\n            configurable: true,\n            writeable: true,\n            value: (function(originalMethod) {\n                var args = Array.from(arguments).slice(1);\n                var retVal = decorator[methodName].apply(decorator, args);\n                if (originalMethod instanceof Function) {\n                    args.push(retVal);\n                    retVal = originalMethod.apply(obj, args);\n                }\n                return retVal;\n            }).bind(decorator, obj[methodName])\n        });\n    }\n\n    static sequence(obj, decorator, methodName) {\n        Object.defineProperty(obj, methodName, {\n            configurable: true,\n            writeable: true,\n            value: (function(originalMethod) {\n                var args = Array.from(arguments).slice(1);\n                if (originalMethod instanceof Function) {\n                    args.push(originalMethod.apply(obj, args));\n                }\n                return decorator[methodName].apply(decorator, args);\n            }).bind(decorator, obj[methodName])\n        });\n    }\n\n    static addDecoratorProperty(obj, decorator, propertyName) {\n        Object.defineProperty(obj, propertyName, {\n            get: () => {\n                return decorator[propertyName];\n            },\n            set: (value) => {\n                decorator[propertyName] = value;\n            }\n        });\n    }\n\n    static addDecoratorProperties(obj, decorator, properties) {\n        properties.forEach((property) => {\n            DecoratorUtils.addDecoratorProperty(obj, decorator, property);\n        });\n    }\n}\n\nexport default DecoratorUtils;\n"]}